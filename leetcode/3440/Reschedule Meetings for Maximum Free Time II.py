# solution 1 - (enumeration,greedy,optimization) - (219ms) - (2025.07.10)
class Solution:
    def maxFreeTime(self, eventTime: int, startTime: list[int], endTime: list[int]) -> int:
        n = len(startTime)
        canMove = [False] * n  # ië²ˆì§¸ íšŒì˜ë¥¼ ììœ ë¡­ê²Œ ë‹¤ë¥¸ gapìœ¼ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€

        # ì•ìœ¼ë¡œ ê°€ë©´ì„œ ì™¼ìª½ gap(t1)ì„ í™•ì¸
        maxLeftGap = 0
        for i in range(n):
            duration = endTime[i] - startTime[i]

            # ì´ íšŒì˜ë¥¼ ì´ì „ gapìœ¼ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆìœ¼ë©´ True
            if duration <= maxLeftGap:
                canMove[i] = True

            # ë‹¤ìŒ íšŒì˜ì™€ì˜ gapì„ ê³„ì‚°
            if i == 0:
                maxLeftGap = startTime[0]  # ì²˜ìŒ íšŒì˜ê¹Œì§€ì˜ gap
            else:
                maxLeftGap = max(maxLeftGap, startTime[i] - endTime[i - 1])

        # ë’¤ì—ì„œë¶€í„° ê°€ë©´ì„œ ì˜¤ë¥¸ìª½ gap(t2)ì„ í™•ì¸
        maxRightGap = 0
        for i in range(n - 1, -1, -1):
            duration = endTime[i] - startTime[i]

            # ì´ íšŒì˜ë¥¼ ë‹¤ìŒ gapìœ¼ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆìœ¼ë©´ True
            if duration <= maxRightGap:
                canMove[i] = True

            if i == n - 1:
                maxRightGap = eventTime - endTime[-1]  # ë§ˆì§€ë§‰ íšŒì˜ ì´í›„ gap
            else:
                maxRightGap = max(maxRightGap, startTime[i + 1] - endTime[i])

        # ì´ì œ ê° íšŒì˜ë¥¼ "ì œê±°í•´ë„ ë˜ë‚˜" ì—¬ë¶€(canMove[i])ë¥¼ ê¸°ì¤€ìœ¼ë¡œ
        # ì´ íšŒì˜ë¥¼ ì œê±°í–ˆì„ ë•Œ, ìƒê¸¸ ìˆ˜ ìˆëŠ” ê°€ì¥ í° ììœ ì‹œê°„ì„ ê³„ì‚°
        maxFree = 0
        for i in range(n):
            left = 0 if i == 0 else endTime[i - 1]
            right = eventTime if i == n - 1 else startTime[i + 1]
            duration = endTime[i] - startTime[i]

            if canMove[i]:
                # ië²ˆì§¸ íšŒì˜ë¥¼ ì™„ì „íˆ ì œê±°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê·¸ ìœ„ì¹˜ë¥¼ í†µì§¸ë¡œ gapìœ¼ë¡œ ì”€
                maxFree = max(maxFree, right - left)
            else:
                # ì´ íšŒì˜ë¥¼ ì œê±°í•˜ì§€ ëª»í•˜ë¯€ë¡œ, ìµœì†Œí•œ durationì€ ë¹ ì ¸ì•¼ í•¨
                # (ê·¸ íšŒì˜ëŠ” ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì´ë™í•˜ë”ë¼ë„ ì–´ë”˜ê°€ì— ì°¨ì§€í•˜ê³  ìˆì–´ì•¼ í•˜ë‹ˆê¹Œ)
                maxFree = max(maxFree, right - left - duration)

        return maxFree

'''
ë¬¸ì œë¥¼ í’€ë©´ì„œ ê°„ê³¼í–ˆë˜ ì 

1. ë‹¨ìˆœ ì™„ì „íƒìƒ‰(O(n^2))ìœ¼ë¡œëŠ” TLE ë°œìƒ
- íšŒì˜ë¥¼ "ì œê±°í•˜ê³ , gap ì— ì‚½ì…í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜" ë°©ì‹ì€ ê·œëª¨ê°€ í° ì…ë ¥ì—ì„œ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí–ˆë‹¤.
2. íšŒì˜ë¥¼ ë°˜ë“œì‹œ ì–´ë”˜ê°€ì— ìœ ì§€í•´ì•¼ í•œë‹¤ëŠ” ì ë„ ê³„ì‚°ì—ì„œ ë†“ì¹˜ê¸° ì‰½ë‹¤.
- ì œê±°í–ˆë‹¤ê³  í•´ì„œ ê³µê°„ ì „ì²´ê°€ ììœ  ì‹œê°„ì´ ë˜ëŠ” ê±´ ì•„ë‹˜

ì „ëµ

1. íšŒì˜ ì•ë’¤ gap ë§Œ O(n)ìœ¼ë¡œ í•œ ë²ˆì”© í›‘ìœ¼ë©´, "ì´ íšŒì˜ê°€ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì˜®ê²¨ì§ˆ ìˆ˜ ìˆëŠ”ê°€?"ë¥¼ ë¹ ë¥´ê²Œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.

2. canMove[i] = True ë©´ ì´ íšŒì˜ë¥¼ ì œê±°í•´ë„ ë¬¸ì œ ì—†ë‹¤.
- í•´ë‹¹ ìœ„ì¹˜ì˜ ì „ì²´ ê³µê°„ì„ ììœ ì‹œê°„ìœ¼ë¡œ í™œìš© ê°€ëŠ¥(right-left)

3. canMove[i] = False ë©´ ì´ íšŒì˜ëŠ” ì–´ë”˜ê°€ì— ì¡´ì¬í•´ì•¼ í•˜ë¯€ë¡œ
- duration ë§Œí¼ ì¤„ì–´ë“  ììœ ì‹œê°„ë§Œ í™œìš© ê°€ëŠ¥ í•˜ë‹¤.(right-left-duration)


ì´ ë¬¸ì œëŠ” ì‹œë®¬ë ˆì´ì…˜ì— ê¸°ë°˜í•œ ì¡°ê±´ ê¸°ë°˜ ë…¼ë¦¬ë¡œ í‘¸ëŠ”ê²Œ ë§ë‹¤.
left/rightëŠ” "ììœ ê³µê°„"ì˜ ê²½ê³„ê°’ì´ë¼ëŠ” ì ì„ ëª…í™•íˆ ì´í•´í•´ì•¼ í–ˆë‹¤.
ë‹¨ìˆœ ë°˜ë³µë³´ë‹¤ ì•/ë’¤ì—ì„œ ëˆ„ì ë˜ëŠ” gap ì¶”ì ì´ ë§¤ìš° ê°•ë ¥í•œ ìµœì í™” ìˆ˜ë‹¨ì´ì—ˆë‹¤.


(ex)

0---1---2---3---4---5---6---7---8---9--10
        [2,3]   [4,5]   [6,7]

Case 1: i = 1 (íšŒì˜ [4, 5]) ì œê±°

ğŸ” Step 1. leftì™€ right ê³„ì‚° 
left = endTime[0] = 3
â†’ ì´ì „ íšŒì˜ê°€ ëë‚œ ì‹œê°„

right = startTime[2] = 6
â†’ ë‹¤ìŒ íšŒì˜ê°€ ì‹œì‘í•˜ëŠ” ì‹œê°„

ì¦‰, ììœ ì‹œê°„ ë²”ìœ„: [3, 6]


ğŸ” Step 2. íšŒì˜ duration ê³„ì‚°
duration = endTime[1] - startTime[1] = 1

----------------------------------------------------------------------------
[ë‘ ê°€ì§€ ê²½ìš° ë¹„êµ]

âœ…1) canMove[1] == True (ì´ íšŒì˜ëŠ” ì™„ì „íˆ ì œê±°í•  ìˆ˜ ìˆìŒ)
ì¦‰, íšŒì˜ [4,5]ë¥¼ ì™„ì „íˆ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆìŒ
ê·¸ëŸ¬ë©´ [3,6] ì´ êµ¬ê°„ ì „ì²´ê°€ ììœ  ì‹œê°„

ììœ  ì‹œê°„ = right - left = 6 - 3 = 3

âŒ2) canMove[1] == False (ì´ íšŒì˜ëŠ” ì œê±°í•  ìˆ˜ ì—†ìŒ)
ì´ íšŒì˜ëŠ” "ê¼­ ì¡´ì¬í•´ì•¼" í•´ì„œ, ì–´ë”˜ê°€ì—” ë“¤ì–´ê°€ì•¼ í•¨
í•´ë‹¹ ì‹œê°„ êµ¬ê°„ ë‚´ì—ì„œ durationë§Œí¼ ì¤„ì–´ë“  ê³µê°„ì´ ììœ  ì‹œê°„

ììœ  ì‹œê°„ = right - left - duration = 6 - 3 - 1 = 2

ë‹¤ë¥¸ íšŒã…ì˜ë“¤ë„ í™•ì¸í•˜ë©´
| i | íšŒì˜     | left | right | duration | canMove | ììœ  ì‹œê°„ (True) | ììœ  ì‹œê°„ (False) |
| - | ------  | ---- | ----- | -------- | ------- | ------------ | ------------- |
| 0 | [2,3]   | 0    | 4     | 1        | ?       | 4            | 3             |
| 1 | [4,5]   | 3    | 6     | 1        | ?       | 3            | 2             |
| 2 | [6,7]   | 5    | 10    | 1        | ?       | 5            | 4             |


âœ… canMove[i]ë€
-> "íšŒì˜ ië¥¼ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆëŠ”ê°€?"ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Boolean ê°’
ì¦‰,
ğŸ‘‰ ië²ˆì§¸ íšŒì˜ì˜ durationì´, ì•ì´ë‚˜ ë’¤ì˜ ë¹ˆ ê³µê°„(gap)ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ë‹¤ë©´ True
ğŸ‘‰ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ False


[í•µì‹¬ ì¡°ê±´]
if duration <= maxLeftGap or duration <= maxRightGap:
    canMove[i] = True

ê·¸ëŸ¼, ì—¬ê¸°ì„œ maxLeftGap, maxRightGap ì´ ë­”ë°?

1. maxLeftGap (ì•ìª½ gap)
- ì•ì—ì„œë¶€í„° ì§„í–‰í•˜ë©´ì„œ í˜„ì¬ê¹Œì§€ì˜ ìµœëŒ€ ì™¼ìª½ gapì„ ì €ì¥
- ì¦‰, íšŒì˜ iê°€ ì œê±°ë˜ì—ˆì„ ë•Œ ê·¸ ì•ì˜ ë¹ˆ ê³µê°„ì´ ì¶©ë¶„í•œê°€?

2. maxRightGap (ë’¤ìª½ gap)
- ë’¤ì—ì„œë¶€í„° ì§„í–‰í•˜ë©´ì„œ í˜„ì¬ê¹Œì§€ì˜ ìµœëŒ€ ì˜¤ë¥¸ìª½ gapì„ ì €ì¥
- ì¦‰, íšŒì˜ ië¥¼ ì œê±°í–ˆì„ ë•Œ ê·¸ ë’¤ìª½ gapì— ì˜®ê²¨ ë„£ì„ ìˆ˜ ìˆëŠ”ê°€?

ì´ê±¸ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ê¸° ìœ„í•´ ì™¼ìª½/ì˜¤ë¥¸ìª½ì„ ê°ê° í•œë²ˆì”©ë§Œ O(n)ìœ¼ë¡œ í›‘ëŠ” ë°©ì‹ì„ ì“°ëŠ” ê²ƒì´ì—ˆë‹¤!

'''